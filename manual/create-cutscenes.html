<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Creating Cutscenes | Heroes of the Shrine </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Creating Cutscenes | Heroes of the Shrine ">
    <meta name="generator" content="docfx 2.59.4.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="creating-cutscenes">Creating Cutscenes</h1>

<p>Use cutscenes in the game to override normal game behaviour. Cutscenes block player input, and disable enemies&#39; state machines.
Wikipedia defines cutscenes as such:</p>
<blockquote><p>A cutscene is a sequence in a video game that is not interactive, interrupting the gameplay. Such scenes are used to show conversations between characters, set the mood, reward the player, introduce newer models and gameplay elements, show the effects of a player&#39;s actions, create emotional connections, improve pacing or foreshadow future events.</p>
</blockquote>
<p>Cutscenes are represented by a <strong>Unity Timeline</strong>. Timelines can contain multiple tracks, that modify properties of scene objects over time. They can be used to create animations, move objects around, and even call functions on components!</p>
<p>Cutscenes should be constant, meaning object positions will never be relative to the positions before the cutscene. To overcome this issue, <em>Cutscene Action</em> will move characters from their previous position, to a specified initial position.</p>
<div class="IMPORTANT"><h5>Important</h5><p>Before the cutscene starts, make sure there are no spawned enemies in the scene. Spawned enemies cannot have a <em>move definition</em>. Their state machine will be disabled once the cutscene starts, and it might look weird.</p>
</div>
<p><img src="../resources/TimelineExample.png" alt="Timeline example"></p>
<h2 id="create-a-cutscene">Create a Cutscene</h2>
<ol>
<li>Create an empty game object, and give it an indicative name.</li>
<li>Add a trigger for the cutscene. More info in <a href="add-triggers.html">Adding Triggrs</a>. Instead, you can also attach the cutscene to an existing <code>UnityEvent</code>, such as <a href="add-encounters.html#post-encounter-event">Post Encounter Event</a>.</li>
<li>Add the <strong>Cutscene Action</strong> component, located in <em>Assets/Scripts/Level/Actions</em>.</li>
<li>From the trigger, attach the method <code>Invoke</code> of the new Cutscene Action.</li>
<li>Create a new timeline asset in <em>Assets/Timelines</em>.</li>
<li>In the same object, attach a <em>Playable Director</em> component. Change the <em>Playable</em> to the timeline you have created, and make sure that <em>Play On Awake</em> is unchecked.</li>
<li>In the hierarchy, select the cutscene object you added. Open the <em>Timeline</em> window where you can edit tracks, and start adding tracks (by clicking &#39;+&#39;) to build the cutscene!</li>
</ol>
<h2 id="customization">Customization</h2>
<h4 id="move-definitions">Move Definitions</h4>
<p>Define where characters from the scene should move before the encounter starts.</p>
<div class="NOTE"><h5>Note</h5><p>The <em>Target</em> must have a <a href="../api/Global.ForcedWalkBehaviour.html">Forced Walk Behaviour</a> component attached.</p>
</div>
<p><img src="../resources/CutsceneMoveDefinition.png" alt="Timeline example"></p>
<h4 id="director">Director</h4>
<p><em>Playable Director</em> component that contains the timeline to play. </p>
<h4 id="post-cutscene-event">Post Cutscene Event</h4>
<p><code>UnityEvent</code> to invoke when the cutscene is over. Pick an object or drag one in, and select any of its methods to invoke.</p>
<h2 id="useful-tracks">Useful Tracks</h2>
<h4 id="animation-track">Animation Track</h4>
<p><em>Animation Track</em> is used to animate objects, as well as change their properties over time (e.g. move them around). Each animation track is related to a single object in the scene. To animate an object in the timeline, it must have an <em>Animator</em> component, even if it doesn&#39;t have an animator controller (animations state machine). Each track can modify multiple properties, but it is recommended to split an animation to multiple tracks where it fits.</p>
<p>To create a new <em>Animation Track</em>, follow these steps:</p>
<ol>
<li>Select the game object that contains the timeline, click the &#39;+&#39; icon in the timeline window, and select &quot;Animation Track&quot;.</li>
<li>Drag the object you want to animate from the scene. If the object doesn&#39;t already have an <em>Animator</em>, make one and then drag it to the track.</li>
<li>Click the record button (red circle), to start recording the animation</li>
<li>Select the animated object in the hierarchy, and set the initial <em>position</em> of the <a href="../api/Global.MovableObject.html">Movable Object</a> in the animation. Click the record button again to stop recording.</li>
<li>Double click in the track area to open the new animation clip.</li>
<li><p>Start adding keyframe that change properties over time.</p>
<div class="WARNING"><h5>Warning</h5><p>Unfortunately, editing properties of a movable object does not reflect in the scene while editing them.</p>
</div>
<div class="NOTE"><h5>Note</h5><p>By default, the interpolation of a float value between two keyframes, is not linear and has a certain smooth curve:</p>
<p><img src="../resources/AnimationCurve.png" alt="Animation Curve"></p>
<p>In order to change it to linear, from the animation window click the <em>&quot;Curves&quot;</em> button in the bottom.
Select all keyframes (Ctrl+A), right click on one of them and select &quot;Both Tangents&quot; -&gt; &quot;Linear&quot;. The curve should become linear.
Click the &quot;Dropsheet&quot; button in the bottom to see the normal animation window again.</p>
</div>
</li>
<li><p>When the animation clip is done, return to the timeline window, right click the animation track, and select &quot;Convert To Clip Track&quot;. Click the clip to see the following in the inspector:</p>
<p> <img src="../resources/ClipInspector.png" alt="Clip Inspector"></p>
<p> Using these properties, you can set a <em>Speed Multiplier</em> for the clip, and change the <a href="https://docs.unity3d.com/Packages/com.unity.timeline@1.2/manual/clp_gap_extrap.html">extrpolation</a> between clips.</p>
</li>
</ol>
<h4 id="activation-track">Activation Track</h4>
<p><em>Activation Track</em> is used to change activate and deactivate objects. Deactivated objects do not appear in the game, and cannot affect the game in any way.</p>
<p>To create a new <em>Activation Track</em>, follow these steps:</p>
<ol>
<li>Select the game object that contains the timeline, click the &#39;+&#39; icon in the timeline window, and select &quot;Activation Track&quot;.</li>
<li>Drag the object you want to modify from the scene. The rectangle in the timeline specifies when the object is active inside the cutscene.</li>
</ol>
<h4 id="signal-track">Signal Track</h4>
<p><em>Signal Track</em> is used to call a functions on a component of any object in the scene. They use the familiar <code>UnityEvent</code> API.</p>
<p>To create a new <em>Signal Track</em>, follow these steps:</p>
<ol>
<li>Select the game object that contains the timeline, and add the component <strong>Signal Receiver</strong>, if it wasn&#39;t already attached.</li>
<li>Click the &quot;Add Reaction&quot; icon inside the component to add a new signal reaction.</li>
<li>Inside the dropdown, select an existing <em>Signal</em> or create a new one. Store them inside <em>Assets/Timelines/Signals</em>, and give the signal an indicative name.</li>
<li>Click the &#39;+&#39; icon inside the reaction.</li>
<li>Attach a <code>UnityEvent</code> that will be invoked when the selected signal is emitted. First, select the game object that has the function. Using the dropdown in the right, select the function that will be invoked by the trigger, in one of the components.</li>
<li>Select the game object that contains the timeline, click the &#39;+&#39; icon in the timeline window, and select &quot;Signal Track&quot;.</li>
<li>Drag the game object that contains the timeline to the empty field.</li>
<li>Right click inside the track area, and select &quot;Add Signal Emitter&quot;.</li>
<li>From the inspector, change the <em>Emit Signal</em> to the signal you used in the <em>Signal Receiver</em> component.</li>
</ol>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/MoonfaceDev/Heroes-of-the-Shrine/blob/dev/Documentation/manual/create-cutscenes.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            Heroes of the Shrine - Manual
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
